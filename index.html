<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MIL-STD-704 Power Quality Compliance Checker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="site-header__content">
      <h1>MIL-STD-704 Power Quality Compliance Checker</h1>
      <p class="site-header__subtitle">
        Quick-look power quality assessment tool for aircraft electrical systems.
      </p>
      <p class="site-header__meta">
        Built by <strong>Abraham Haikal</strong> – Mechanical Engineering &amp; F-16 E&amp;E Systems.
      </p>
    </div>
  </header>

  <main class="layout">
    <section class="panel panel--primary">
      <h2 class="panel__title">1. Input Test Conditions</h2>
      <p class="panel__subtitle">
        Select the bus type and enter measured values from your test or analysis.
      </p>

      <form id="checker-form" novalidate>
        <div class="form-grid">
          <!-- Bus selection -->
          <div class="form-field form-field--full">
            <label for="busType">Bus Type</label>
            <select id="busType" name="busType">
              <option value="28vdc">28 VDC Main Bus (Illustrative)</option>
              <option value="115vac400">115 VAC, 400 Hz (Illustrative)</option>
            </select>
            <p class="field-hint">
              Limits are simplified for demo purposes and should not replace official MIL-STD-704 data.
            </p>
          </div>

          <!-- Steady State -->
          <div class="form-field">
            <label for="steadyVoltage">Measured Steady-State Voltage</label>
            <div class="field-input-with-unit">
              <input type="number" id="steadyVoltage" name="steadyVoltage" step="0.1" required />
              <span class="unit-label" id="steadyVoltageUnit">VDC</span>
            </div>
            <p class="field-hint" id="steadyVoltageHint">
              Example: 27.8 VDC on a 28 V bus.
            </p>
          </div>

          <div class="form-field ac-only">
            <label for="steadyFrequency">Measured Steady-State Frequency</label>
            <div class="field-input-with-unit">
              <input type="number" id="steadyFrequency" name="steadyFrequency" step="0.1" />
              <span class="unit-label">Hz</span>
            </div>
            <p class="field-hint">
              For AC buses only (e.g., 400 Hz).
            </p>
          </div>

          <!-- Ripple / Distortion -->
          <div class="form-field">
            <label for="ripple">Ripple / Distortion</label>
            <div class="field-input-with-unit">
              <input type="number" id="ripple" name="ripple" step="0.1" />
              <span class="unit-label">%</span>
            </div>
            <p class="field-hint">
              DC buses: voltage ripple; AC buses: total harmonic distortion (THD).
            </p>
          </div>

          <!-- Transient Undervoltage -->
          <div class="form-field">
            <label for="uvDipPercent">Max Undervoltage Dip</label>
            <div class="field-input-with-unit">
              <input type="number" id="uvDipPercent" name="uvDipPercent" step="0.1" />
              <span class="unit-label">%</span>
            </div>
            <p class="field-hint">
              Percentage drop from nominal (e.g., 15% dip).
            </p>
          </div>

          <div class="form-field">
            <label for="uvDipDuration">Undervoltage Dip Duration</label>
            <div class="field-input-with-unit">
              <input type="number" id="uvDipDuration" name="uvDipDuration" step="1" />
              <span class="unit-label">ms</span>
            </div>
            <p class="field-hint">
              Duration of worst-case undervoltage event.
            </p>
          </div>

          <!-- Transient Overvoltage -->
          <div class="form-field">
            <label for="ovSurgePercent">Max Overvoltage Surge</label>
            <div class="field-input-with-unit">
              <input type="number" id="ovSurgePercent" name="ovSurgePercent" step="0.1" />
              <span class="unit-label">%</span>
            </div>
            <p class="field-hint">
              Percentage increase above nominal (e.g., 18% surge).
            </p>
          </div>

          <div class="form-field">
            <label for="ovSurgeDuration">Overvoltage Surge Duration</label>
            <div class="field-input-with-unit">
              <input type="number" id="ovSurgeDuration" name="ovSurgeDuration" step="1" />
              <span class="unit-label">ms</span>
            </div>
            <p class="field-hint">
              Duration of worst-case overvoltage event.
            </p>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn--primary">Run Compliance Check</button>
          <button type="button" id="resetBtn" class="btn btn--ghost">Clear Inputs</button>
          <button type="button" id="printBtn" class="btn btn--outline">Print / Export</button>
        </div>
      </form>
    </section>

    <section class="panel panel--secondary">
      <h2 class="panel__title">2. Compliance Results</h2>
      <div id="overallStatus" class="overall-status overall-status--idle">
        <span class="overall-status__label">Awaiting input</span>
        <span class="overall-status__pill overall-status__pill--idle">No run yet</span>
      </div>

      <div id="summaryBlock" class="summary-block summary-block--hidden">
        <h3>Test Summary</h3>
        <div class="summary-grid">
          <div class="summary-item">
            <span class="summary-label">Bus Type</span>
            <span class="summary-value" id="summaryBusType">–</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Nominal Voltage</span>
            <span class="summary-value" id="summaryNominal">–</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Steady Voltage</span>
            <span class="summary-value" id="summarySteadyVoltage">–</span>
          </div>
          <div class="summary-item ac-only">
            <span class="summary-label">Frequency</span>
            <span class="summary-value" id="summaryFrequency">–</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Ripple / THD</span>
            <span class="summary-value" id="summaryRipple">–</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Undervoltage Dip</span>
            <span class="summary-value" id="summaryUv">–</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Overvoltage Surge</span>
            <span class="summary-value" id="summaryOv">–</span>
          </div>
        </div>
      </div>

      <div id="checklist" class="checklist checklist--empty">
        <p class="checklist__placeholder">
          Run a compliance check to see individual requirement results.
        </p>
      </div>

      <div class="panel panel--note">
        <h3 class="panel__title">Engineering Note</h3>
        <p>
          This tool uses simplified, representative limits inspired by aircraft
          power quality practices. It is intended for training and portfolio
          demonstration. For formal compliance work, always consult:
        </p>
        <ul>
          <li>Official <strong>MIL-STD-704</strong> documentation</li>
          <li>Platform-specific power quality requirements</li>
          <li>Program-approved test procedures &amp; authorities</li>
        </ul>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <p>
      Demo tool by <strong>Abraham Haikal</strong> – Defense-focused systems engineer in training.
    </p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
